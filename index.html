<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Travel Assistant - Your Smart Travel Companion</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .bg-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        .particle:nth-child(1) { width: 80px; height: 80px; left: 10%; animation-delay: 0s; }
        .particle:nth-child(2) { width: 120px; height: 120px; left: 20%; animation-delay: 2s; }
        .particle:nth-child(3) { width: 60px; height: 60px; left: 70%; animation-delay: 4s; }
        .particle:nth-child(4) { width: 100px; height: 100px; left: 80%; animation-delay: 1s; }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            position: relative;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            animation: slideDown 0.8s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shine 3s ease-in-out infinite;
        }
        
        .logo {
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffffff, #f093fb, #667eea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 15px;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }

        .subtitle {
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
            font-weight: 500;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            animation: fadeInUp 1s ease-out;
        }

        .main-panel {
            display: grid;
            grid-template-rows: auto 1fr;
            gap: 20px;
        }

        .quick-actions {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .quick-actions h3 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .action-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .action-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.2));
        }

        .action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .action-card:hover::before {
            left: 100%;
        }

        .action-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
            animation: bounce 2s infinite;
        }

        .action-title {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .action-desc {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }
        
        .chat-section {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            height: 600px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .chat-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }
        
        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 2;
        }

        .chat-title {
            color: white;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .translation-buttons {
            display: flex;
            gap: 10px;
        }

        .btn-lang {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-lang:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.5);
        }

        .btn-lang::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn-lang:hover::before {
            left: 100%;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            margin-bottom: 20px;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(10px);
        }
        
        .message {
            margin-bottom: 15px;
            padding: 15px 20px;
            border-radius: 20px;
            max-width: 80%;
            animation: messageSlide 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            backdrop-filter: blur(10px);
        }
        
        .user-message {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 8px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .bot-message {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border-bottom-left-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .input-section {
            display: flex;
            gap: 15px;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        
        .chat-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            outline: none;
            font-size: 16px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            backdrop-filter: blur(10px);
        }

        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .chat-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }
        
        .btn-voice {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.3);
        }
        
        .btn-voice.listening {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            animation: pulse 1.5s infinite;
        }

        .sidebar {
            display: grid;
            grid-template-rows: auto auto 1fr;
            gap: 20px;
        }

        .stats-panel {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stats-title {
            color: white;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 900;
            color: white;
            margin-bottom: 5px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .features-panel {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow-y: auto;
        }

        .features-title {
            color: white;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .feature-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .feature-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .feature-item-title {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .feature-item-desc {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .price-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .price-option {
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .price-best {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.3);
        }

        .price-good {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            color: white;
            box-shadow: 0 10px 30px rgba(255, 193, 7, 0.3);
        }

        .price-average {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            color: white;
            box-shadow: 0 10px 30px rgba(220, 53, 69, 0.3);
        }

        .price-option:hover {
            transform: translateY(-5px) scale(1.05);
        }

        .uber-section {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 20px;
            margin: 15px 0;
            border: 2px solid #00d4aa;
            position: relative;
            overflow: hidden;
        }

        .uber-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 170, 0.1), transparent);
            animation: slide 2s ease-in-out infinite;
        }

        .uber-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .uber-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
        }

        .uber-option {
            background: rgba(0, 212, 170, 0.2);
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #00d4aa;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .uber-option:hover {
            background: rgba(0, 212, 170, 0.4);
            transform: scale(1.05);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 20px 25px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(40, 167, 69, 0.4);
            animation: slideInRight 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .notification.error {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            box-shadow: 0 15px 40px rgba(220, 53, 69, 0.4);
        }

        .offline-indicator {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            animation: pulse 2s infinite;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .loading {
            display: inline-block;
            width: 25px;
            height: 25px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        .ar-preview {
            background: linear-gradient(135deg, #343a40, #495057);
            color: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            margin: 15px 0;
            border: 2px solid #6f42c1;
            position: relative;
            overflow: hidden;
        }

        .ar-preview::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(111, 66, 193, 0.2), transparent);
            animation: slide 3s ease-in-out infinite;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            animation: scaleIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Animations */
        @keyframes slideDown {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes messageSlide {
            from { transform: translateX(-30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(220, 53, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @keyframes glow {
            from { text-shadow: 0 0 30px rgba(255, 255, 255, 0.5); }
            to { text-shadow: 0 0 50px rgba(255, 255, 255, 0.8); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(120deg); }
            66% { transform: translateY(-15px) rotate(240deg); }
        }

        @keyframes shine {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes slide {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                grid-template-columns: 1fr 1fr;
                grid-template-rows: auto;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .dashboard {
                gap: 20px;
            }
            
            .chat-section {
                height: 500px;
            }
            
            .action-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .sidebar {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }

            .logo {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background Particles -->
    <div class="bg-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Enhanced Mock storage service (replace with localStorage in production)
        class StorageService {
            constructor() {
                this.data = new Map();
            }
            
            setItem(key, value) {
                this.data.set(key, JSON.stringify(value));
            }
            
            getItem(key) {
                const item = this.data.get(key);
                return item ? JSON.parse(item) : null;
            }
            
            removeItem(key) {
                this.data.delete(key);
            }
        }

        const storage = new StorageService();

        // Enhanced Travel API Service with Uber integration
        class TravelAPIService {
            constructor() {
                this.isOffline = false;
                this.mockDelay = 1000;
            }

            async mockApiCall(data, delay = this.mockDelay) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (this.isOffline && Math.random() > 0.7) {
                            reject(new Error('Network unavailable - using offline mode'));
                        } else {
                            resolve(data);
                        }
                    }, delay);
                });
            }

            async searchFlights(destination) {
                const mockFlights = [
                    { id: 1, airline: "SkyLine Airways", price: 450, duration: "8h 30m", departure: "10:30 AM", arrival: "7:00 PM", stops: "Direct" },
                    { id: 2, airline: "Global Wings", price: 380, duration: "9h 15m", departure: "2:15 PM", arrival: "11:30 PM", stops: "1 Stop" },
                    { id: 3, airline: "FastJet Express", price: 520, duration: "7h 45m", departure: "6:45 AM", arrival: "2:30 PM", stops: "Direct" },
                    { id: 4, airline: "Budget Air", price: 299, duration: "12h 20m", departure: "11:00 PM", arrival: "11:20 AM+1", stops: "2 Stops" }
                ];
                return this.mockApiCall(mockFlights);
            }

            async searchHotels(location) {
                const mockHotels = [
                    { id: 1, name: "Grand Palace Hotel", price: 120, rating: 4.8, amenities: ["WiFi", "Pool", "Spa", "Restaurant"], location: "City Center" },
                    { id: 2, name: "Budget Stay Inn", price: 65, rating: 4.2, amenities: ["WiFi", "Breakfast", "Gym"], location: "Downtown" },
                    { id: 3, name: "Luxury Resort & Spa", price: 350, rating: 5.0, amenities: ["WiFi", "Pool", "Spa", "Restaurant", "Beach Access"], location: "Beachfront" },
                    { id: 4, name: "Boutique Hotel", price: 180, rating: 4.6, amenities: ["WiFi", "Rooftop Bar", "Concierge"], location: "Historic District" }
                ];
                return this.mockApiCall(mockHotels);
            }

            async searchUber(from, to) {
                const mockUberOptions = [
                    { type: "UberX", price: 15, eta: "3 min", duration: "12 min", capacity: "4 seats" },
                    { type: "UberXL", price: 22, eta: "5 min", duration: "12 min", capacity: "6 seats" },
                    { type: "Uber Comfort", price: 20, eta: "4 min", duration: "12 min", capacity: "4 seats" },
                    { type: "Uber Black", price: 35, eta: "8 min", duration: "12 min", capacity: "4 seats" }
                ];
                return this.mockApiCall(mockUberOptions);
            }

            async searchRestaurants(location, cuisine = 'any') {
                const mockRestaurants = [
                    { id: 1, name: "Sakura Sushi", cuisine: "Japanese", rating: 4.7, price: "$$", bookingAvailable: true },
                    { id: 2, name: "Le Petit Bistro", cuisine: "French", rating: 4.5, price: "$$$", bookingAvailable: true },
                    { id: 3, name: "Street Food Paradise", cuisine: "Local", rating: 4.3, price: "$", bookingAvailable: false },
                    { id: 4, name: "Rooftop Grill", cuisine: "International", rating: 4.6, price: "$$", bookingAvailable: true }
                ];
                return this.mockApiCall(mockRestaurants);
            }

            async getUniqueDestinations(location) {
                const mockDestinations = [
                    { name: "Hidden Temple of Serenity", description: "Ancient temple nestled in secret gardens", popularity: "Low", type: "Cultural", instagram: "📸 Very Instagrammable" },
                    { name: "Underground Art Gallery", description: "Contemporary art in historic subway tunnels", popularity: "Medium", type: "Art", instagram: "📸 Urban vibes" },
                    { name: "Secret Rooftop Garden Cafe", description: "Local favorite with city skyline views", popularity: "High", type: "Food & Drink", instagram: "📸 Sunset shots" },
                    { name: "Floating Night Market", description: "Traditional market on historic boats", popularity: "Medium", type: "Shopping", instagram: "📸 Night photography" }
                ];
                return this.mockApiCall(mockDestinations);
            }

            async translateText(text, targetLang) {
                const mockTranslations = {
                    'es': text.replace(/hello/gi, 'hola').replace(/thank you/gi, 'gracias').replace(/book/gi, 'reservar').replace(/flight/gi, 'vuelo'),
                    'fr': text.replace(/hello/gi, 'bonjour').replace(/thank you/gi, 'merci').replace(/book/gi, 'réserver').replace(/flight/gi, 'vol'),
                    'ja': text.replace(/hello/gi, 'こんにちは').replace(/thank you/gi, 'ありがとう').replace(/book/gi, '予約する').replace(/flight/gi, 'フライト')
                };
                return this.mockApiCall(mockTranslations[targetLang] || text, 500);
            }

            async getBudgetSuggestions(budget, destination, duration = 7) {
                const suggestions = {
                    accommodation: Math.floor(budget * 0.35),
                    food: Math.floor(budget * 0.25),
                    activities: Math.floor(budget * 0.20),
                    transport: Math.floor(budget * 0.15),
                    shopping: Math.floor(budget * 0.05),
                    tips: [
                        "Book flights 6-8 weeks in advance for best prices",
                        "Consider staying in neighborhoods outside city center",
                        "Use public transport for significant savings",
                        "Look for lunch specials at high-end restaurants"
                    ],
                    savings: {
                        earlyBooking: "Save 15-25% on hotels",
                        offSeason: "Save 30-40% in shoulder seasons",
                        groupBooking: "Save 10-15% for groups of 4+"
                    }
                };
                return this.mockApiCall(suggestions);
            }

            async getRouteOptions(from, to) {
                const routes = [
                    { type: "Flight", duration: "3h 20m", price: 250, co2: "High", convenience: "★★★★★", comfort: "★★★★☆" },
                    { type: "High-Speed Train", duration: "8h 15m", price: 120, co2: "Low", convenience: "★★★★☆", comfort: "★★★★★" },
                    { type: "Bus", duration: "12h 30m", price: 45, co2: "Medium", convenience: "★★☆☆☆", comfort: "★★☆☆☆" },
                    { type: "Uber/Car", duration: "6h 45m", price: 180, co2: "Medium", convenience: "★★★★☆", comfort: "★★★☆☆" }
                ];
                return this.mockApiCall(routes);
            }

            async getWeatherForecast(destination) {
                const mockWeather = {
                    current: { temp: 24, condition: "Sunny", humidity: 65 },
                    forecast: [
                        { day: "Today", temp: "24°C", condition: "☀️ Sunny" },
                        { day: "Tomorrow", temp: "22°C", condition: "⛅ Partly Cloudy" },
                        { day: "Day 3", temp: "26°C", condition: "☀️ Sunny" },
                        { day: "Day 4", temp: "20°C", condition: "🌧️ Light Rain" }
                    ]
                };
                return this.mockApiCall(mockWeather);
            }

            async getLoyaltyDeals() {
                const deals = [
                    { title: "Double Points Weekend", description: "Earn 2x points on all bookings", expires: "2 days", type: "points" },
                    { title: "Hotel Upgrade", description: "Free room upgrade at partner hotels", expires: "1 week", type: "upgrade" },
                    { title: "Flight Discount", description: "15% off international flights", expires: "3 days", type: "discount" }
                ];
                return this.mockApiCall(deals);
            }
        }

        const apiService = new TravelAPIService();

        // Enhanced NLP Service
        class NLPService {
            processQuery(query) {
                const lowerQuery = query.toLowerCase();
                
                if (lowerQuery.includes('uber') || lowerQuery.includes('ride') || lowerQuery.includes('taxi')) {
                    return { intent: 'book_uber', query };
                }
                
                if (lowerQuery.includes('book') && lowerQuery.includes('flight')) {
                    const destination = this.extractDestination(lowerQuery);
                    return { intent: 'book_flight', destination };
                }
                
                if (lowerQuery.includes('hotel') || lowerQuery.includes('accommodation') || lowerQuery.includes('stay')) {
                    const location = this.extractDestination(lowerQuery);
                    return { intent: 'find_hotel', location };
                }

                if (lowerQuery.includes('restaurant') || lowerQuery.includes('food') || lowerQuery.includes('eat')) {
                    const location = this.extractDestination(lowerQuery);
                    return { intent: 'find_restaurant', location };
                }
                
                if (lowerQuery.includes('unique') || lowerQuery.includes('hidden') || lowerQuery.includes('secret') || lowerQuery.includes('places')) {
                    const location = this.extractDestination(lowerQuery);
                    return { intent: 'unique_places', location };
                }
                
                if (lowerQuery.includes('budget') || lowerQuery.includes('cost') || lowerQuery.includes('price') || lowerQuery.includes('money')) {
                    return { intent: 'budget_planning', query };
                }
                
                if (lowerQuery.includes('translate') || lowerQuery.includes('language')) {
                    return { intent: 'translate', text: query };
                }
                
                if (lowerQuery.includes('route') || lowerQuery.includes('transport') || lowerQuery.includes('travel')) {
                    return { intent: 'route_planning', query };
                }

                if (lowerQuery.includes('weather') || lowerQuery.includes('forecast')) {
                    const location = this.extractDestination(lowerQuery);
                    return { intent: 'weather', location };
                }

                if (lowerQuery.includes('deals') || lowerQuery.includes('loyalty') || lowerQuery.includes('points')) {
                    return { intent: 'loyalty_deals', query };
                }
                
                return { intent: 'general', query };
            }
            
            extractDestination(query) {
                const destinations = ['tokyo', 'paris', 'london', 'new york', 'rome', 'bali', 'thailand', 'japan', 'italy', 'spain', 'greece', 'egypt', 'dubai', 'singapore', 'australia', 'brazil', 'canada', 'mexico'];
                for (const dest of destinations) {
                    if (query.includes(dest)) {
                        return dest.charAt(0).toUpperCase() + dest.slice(1);
                    }
                }
                return 'Tokyo'; // Default destination
            }
        }

        const nlpService = new NLPService();

        // Enhanced Voice Recognition Service
        class VoiceService {
            constructor() {
                this.recognition = null;
                this.isSupported = 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window;
                
                if (this.isSupported) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    this.recognition = new SpeechRecognition();
                    this.recognition.continuous = false;
                    this.recognition.interimResults = false;
                    this.recognition.lang = 'en-US';
                }
            }
            
            async startListening() {
                return new Promise((resolve, reject) => {
                    if (!this.isSupported) {
                        reject(new Error('Voice recognition not supported in this browser'));
                        return;
                    }
                    
                    this.recognition.onresult = (event) => {
                        const result = event.results[0][0].transcript;
                        resolve(result);
                    };
                    
                    this.recognition.onerror = (event) => {
                        reject(new Error(`Voice recognition error: ${event.error}`));
                    };
                    
                    this.recognition.onend = () => {
                        // Recognition ended
                    };
                    
                    this.recognition.start();
                });
            }
        }

        const voiceService = new VoiceService();

        // Main Enhanced Travel Assistant Component
        function TravelAssistant() {
            const [messages, setMessages] = useState([
                { type: 'bot', content: '🌟 Welcome to your AI Travel Assistant! I can help you with flights, hotels, Uber rides, restaurants, unique destinations, budget planning, and much more. Try saying "Book a flight to Tokyo" or "Find an Uber to the airport"!' }
            ]);
            const [inputValue, setInputValue] = useState('');
            const [isListening, setIsListening] = useState(false);
            const [isLoading, setIsLoading] = useState(false);
            const [loyaltyPoints, setLoyaltyPoints] = useState(1250);
            const [currentLanguage, setCurrentLanguage] = useState('en');
            const [notifications, setNotifications] = useState([]);
            const [itinerary, setItinerary] = useState([]);
            const [isOffline, setIsOffline] = useState(false);
            const [travelLog, setTravelLog] = useState([]);
            const [priceComparisons, setPriceComparisons] = useState([]);
            const [showModal, setShowModal] = useState(false);
            const [modalContent, setModalContent] = useState('');
            const [uberResults, setUberResults] = useState([]);
            const [totalSavings, setTotalSavings] = useState(340);
            const [bookedTrips, setBookedTrips] = useState(12);
            
            const messagesEndRef = useRef(null);

            // Auto-scroll to latest message
            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);

            // Simulate network status and real-time updates
            useEffect(() => {
                const interval = setInterval(() => {
                    setIsOffline(Math.random() > 0.95); // 5% chance of being offline
                    
                    // Simulate real-time travel updates
                    if (Math.random() > 0.98) {
                        addNotification('✈️ Flight to Tokyo: On-time departure!', 'success');
                    }
                }, 8000);
                return () => clearInterval(interval);
            }, []);

            // Load cached data on mount
            useEffect(() => {
                const cachedData = {
                    itinerary: storage.getItem('itinerary') || [],
                    travelLog: storage.getItem('travelLog') || [
                        { place: "Paris, France", date: "2024-12-15", duration: "5 days", rating: 5 },
                        { place: "Tokyo, Japan", date: "2024-11-20", duration: "7 days", rating: 5 }
                    ],
                    loyaltyPoints: storage.getItem('loyaltyPoints') || 1250
                };
                
                setItinerary(cachedData.itinerary);
                setTravelLog(cachedData.travelLog);
                setLoyaltyPoints(cachedData.loyaltyPoints);
            }, []);

            // Auto-save to cache
            useEffect(() => {
                storage.setItem('itinerary', itinerary);
                storage.setItem('travelLog', travelLog);
                storage.setItem('loyaltyPoints', loyaltyPoints);
            }, [itinerary, travelLog, loyaltyPoints]);

            // Add notification with enhanced styling
            const addNotification = (message, type = 'success') => {
                const id = Date.now();
                setNotifications(prev => [...prev, { id, message, type }]);
                setTimeout(() => {
                    setNotifications(prev => prev.filter(n => n.id !== id));
                }, 4000);
            };

            // Enhanced message processing
            const processMessage = async (message) => {
                const nlpResult = nlpService.processQuery(message);
                setIsLoading(true);
                
                try {
                    let response = '';
                    
                    switch (nlpResult.intent) {
                        case 'book_uber':
                            const uberOptions = await apiService.searchUber('Current Location', 'Destination');
                            setUberResults(uberOptions);
                            response = `🚗 Found ${uberOptions.length} Uber options for you:\n\n`;
                            uberOptions.forEach((option, index) => {
                                response += `${index + 1}. ${option.type} - $${option.price}\n   📍 ${option.eta} away • ${option.duration} trip • ${option.capacity}\n\n`;
                            });
                            response += "💡 Tip: UberX is usually the most economical choice!";
                            setLoyaltyPoints(prev => prev + 50);
                            addNotification('🚗 Uber search completed! +50 loyalty points');
                            break;

                        case 'book_flight':
                            const flights = await apiService.searchFlights(nlpResult.destination);
                            response = `✈️ Found ${flights.length} flights to ${nlpResult.destination}:\n\n`;
                            flights.forEach((flight, index) => {
                                response += `${index + 1}. ${flight.airline} - $${flight.price} (${flight.duration})\n   🛫 ${flight.departure} → 🛬 ${flight.arrival}\n   ${flight.stops}\n\n`;
                            });
                            
                            // Enhanced price comparison
                            setPriceComparisons([
                                { name: flights[3].airline, price: flights[3].price, type: 'best', badge: '🏅 Best Deal' },
                                { name: flights[1].airline, price: flights[1].price, type: 'good', badge: '👍 Good Value' },
                                { name: flights[2].airline, price: flights[2].price, type: 'average', badge: '💸 Premium' }
                            ]);
                            
                            // Add to itinerary
                            setItinerary(prev => [...prev, {
                                id: Date.now(),
                                type: 'Flight',
                                destination: nlpResult.destination,
                                details: flights[0],
                                date: new Date().toLocaleDateString(),
                                status: 'Confirmed'
                            }]);
                            
                            setLoyaltyPoints(prev => prev + 150);
                            addNotification('✈️ Flight search completed! +150 loyalty points earned');
                            break;
                            
                        case 'find_hotel':
                            const hotels = await apiService.searchHotels(nlpResult.location);
                            response = `🏨 Found ${hotels.length} amazing hotels in ${nlpResult.location}:\n\n`;
                            hotels.forEach((hotel, index) => {
                                response += `${index + 1}. ${hotel.name} - $${hotel.price}/night (${hotel.rating}⭐)\n   📍 ${hotel.location}\n   🏷️ ${hotel.amenities.join(', ')}\n\n`;
                            });
                            
                            setPriceComparisons([
                                { name: hotels[1].name, price: hotels[1].price, type: 'best', badge: '🏅 Best Value' },
                                { name: hotels[3].name, price: hotels[3].price, type: 'good', badge: '👍 Good Choice' },
                                { name: hotels[2].name, price: hotels[2].price, type: 'average', badge: '💎 Luxury' }
                            ]);
                            break;

                        case 'find_restaurant':
                            const restaurants = await apiService.searchRestaurants(nlpResult.location);
                            response = `🍽️ Found amazing restaurants in ${nlpResult.location}:\n\n`;
                            restaurants.forEach((restaurant, index) => {
                                response += `${index + 1}. ${restaurant.name} - ${restaurant.cuisine} cuisine\n   ⭐ ${restaurant.rating} rating • ${restaurant.price} • ${restaurant.bookingAvailable ? '📱 Bookable online' : '🚶 Walk-in only'}\n\n`;
                            });
                            break;
                            
                        case 'unique_places':
                            const destinations = await apiService.getUniqueDestinations(nlpResult.location);
                            response = `✨ Here are unique hidden gems in ${nlpResult.location}:\n\n`;
                            destinations.forEach((place, index) => {
                                response += `${index + 1}. ${place.name} (${place.type})\n   ${place.description}\n   👥 Popularity: ${place.popularity} • ${place.instagram}\n\n`;
                            });
                            response += "💡 Pro tip: Visit early morning or late afternoon for the best photos!";
                            break;
                            
                        case 'budget_planning':
                            const budget = await apiService.getBudgetSuggestions(2000, 'destination');
                            response = `💰 Smart budget breakdown for a $2000 trip:\n\n`;
                            response += `🏨 Accommodation: $${budget.accommodation} (35%)\n`;
                            response += `🍽️ Food & Dining: $${budget.food} (25%)\n`;
                            response += `🎯 Activities & Tours: $${budget.activities} (20%)\n`;
                            response += `🚗 Local Transport: $${budget.transport} (15%)\n`;
                            response += `🛍️ Shopping & Misc: $${budget.shopping} (5%)\n\n`;
                            response += `💡 Money-saving tips:\n`;
                            budget.tips.forEach(tip => response += `• ${tip}\n`);
                            break;

                        case 'weather':
                            const weather = await apiService.getWeatherForecast(nlpResult.location);
                            response = `🌤️ Weather forecast for ${nlpResult.location}:\n\n`;
                            response += `Currently: ${weather.current.temp}°C, ${weather.current.condition}\n`;
                            response += `Humidity: ${weather.current.humidity}%\n\n`;
                            response += `📅 Upcoming days:\n`;
                            weather.forecast.forEach(day => {
                                response += `${day.day}: ${day.temp} ${day.condition}\n`;
                            });
                            break;

                        case 'loyalty_deals':
                            const deals = await apiService.getLoyaltyDeals();
                            response = `🎁 Exclusive loyalty deals for you:\n\n`;
                            deals.forEach((deal, index) => {
                                response += `${index + 1}. ${deal.title}\n   ${deal.description}\n   ⏰ Expires in ${deal.expires}\n\n`;
                            });
                            response += `Current Points: ${loyaltyPoints} 💎`;
                            break;
                            
                        case 'route_planning':
                            const routes = await apiService.getRouteOptions('Current Location', 'Destination');
                            response = `🛣️ Your transport options comparison:\n\n`;
                            routes.forEach((route, index) => {
                                response += `${index + 1}. ${route.type} - $${route.price} (${route.duration})\n`;
                                response += `   🌱 CO2 Impact: ${route.co2} | 🚀 Convenience: ${route.convenience}\n`;
                                response += `   😌 Comfort: ${route.comfort}\n\n`;
                            });
                            break;
                            
                        default:
                            response = "🤖 I'm your intelligent travel companion! I can help you with:\n\n✈️ Book flights and compare prices\n🏨 Find hotels with best deals\n🚗 Book Uber rides instantly\n🍽️ Discover amazing restaurants\n✨ Find unique hidden places\n💰 Plan your travel budget\n🌤️ Check weather forecasts\n🎁 Get exclusive loyalty deals\n\nTry asking: 'Book an Uber to the airport' or 'Find unique places in Tokyo'!";
                    }
                    
                    setMessages(prev => [...prev, { type: 'bot', content: response }]);
                    
                } catch (error) {
                    console.error('API Error:', error);
                    let errorResponse = "⚠️ I'm having trouble connecting to our services. ";
                    if (isOffline) {
                        errorResponse += "You're currently offline, but I'll use cached data when possible.";
                    } else {
                        errorResponse += "Please try again in a moment or try a different request.";
                    }
                    setMessages(prev => [...prev, { type: 'bot', content: errorResponse }]);
                    addNotification('Service temporarily unavailable', 'error');
                }
                
                setIsLoading(false);
            };

            // Quick action handlers
            const handleQuickAction = (action) => {
                const quickCommands = {
                    'flights': 'Find flights to Tokyo',
                    'hotels': 'Find hotels in Paris',
                    'uber': 'Book an Uber to the airport',
                    'restaurants': 'Find restaurants in New York',
                    'unique': 'Show me unique places in London',
                    'budget': 'Help me plan a budget for $1500 trip'
                };
                
                const command = quickCommands[action];
                if (command) {
                    setMessages(prev => [...prev, { type: 'user', content: command }]);
                    processMessage(command);
                }
            };

            // Enhanced send message
            const handleSendMessage = async () => {
                if (!inputValue.trim()) return;
                
                const userMessage = inputValue.trim();
                setMessages(prev => [...prev, { type: 'user', content: userMessage }]);
                setInputValue('');
                
                await processMessage(userMessage);
            };

            // Enhanced voice input
            const handleVoiceInput = async () => {
                if (!voiceService.isSupported) {
                    addNotification('🎤 Voice recognition not supported in this browser', 'error');
                    return;
                }
                
                setIsListening(true);
                try {
                    const result = await voiceService.startListening();
                    setInputValue(result);
                    addNotification('🎤 Voice input captured successfully!');
                } catch (error) {
                    console.error('Voice input error:', error);
                    addNotification('🎤 Voice input failed. Please try again.', 'error');
                } finally {
                    setIsListening(false);
                }
            };

            // Handle key press
            const handleKeyPress = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleSendMessage();
                }
            };

            // Enhanced translate function
            const handleTranslate = async (targetLang) => {
                if (!inputValue.trim()) {
                    addNotification('💬 Please enter some text to translate', 'error');
                    return;
                }
                
                try {
                    const translated = await apiService.translateText(inputValue, targetLang);
                    setInputValue(translated);
                    setCurrentLanguage(targetLang);
                    addNotification(`🌐 Translated to ${targetLang.toUpperCase()}!`);
                } catch (error) {
                    addNotification('🌐 Translation failed', 'error');
                }
            };

            // Generate share link for itinerary
            const generateShareLink = () => {
                const shareData = {
                    itinerary,
                    travelLog,
                    loyaltyPoints,
                    timestamp: Date.now()
                };
                const shareId = btoa(JSON.stringify(shareData)).substring(0, 16);
                const shareUrl = `${window.location.origin}/shared/${shareId}`;
                
                navigator.clipboard.writeText(shareUrl).then(() => {
                    addNotification('🔗 Itinerary link copied to clipboard!');
                }).catch(() => {
                    setModalContent(`Share this link: ${shareUrl}`);
                    setShowModal(true);
                });
            };

            // Show feature info
            const showFeatureInfo = (feature) => {
                const featureInfo = {
                    'ar': 'AR Preview will let you virtually explore hotels and attractions before booking!',
                    'ai': 'AI Budget Planner analyzes thousands of trips to give you personalized cost breakdowns.',
                    'collab': 'Collaborative planning lets you share and edit itineraries with travel companions in real-time.',
                    'predict': 'Price prediction uses machine learning to tell you the best time to book for maximum savings.'
                };
                
                setModalContent(featureInfo[feature] || 'Feature information coming soon!');
                setShowModal(true);
            };

            return (
                <div className="container">
                    {/* Offline Indicator */}
                    {isOffline && (
                        <div className="offline-indicator">
                            📡 Offline Mode Active
                        </div>
                    )}

                    {/* Notifications */}
                    {notifications.map(notification => (
                        <div key={notification.id} className={`notification ${notification.type}`}>
                            {notification.message}
                        </div>
                    ))}

                    {/* Modal */}
                    {showModal && (
                        <div className="modal" onClick={() => setShowModal(false)}>
                            <div className="modal-content" onClick={e => e.stopPropagation()}>
                                <h3 style={{ marginBottom: '15px' }}>ℹ️ Information</h3>
                                <p>{modalContent}</p>
                                <button 
                                    className="btn btn-primary" 
                                    onClick={() => setShowModal(false)}
                                    style={{ marginTop: '20px' }}
                                >
                                    Got it!
                                </button>
                            </div>
                        </div>
                    )}

                    {/* Enhanced Header */}
                    <div className="header">
                        <div className="logo">🌍 AI Travel Assistant</div>
                        <div className="subtitle">
                            Your intelligent travel companion powered by advanced AI
                        </div>
                    </div>

                    <div className="dashboard">
                        <div className="main-panel">
                            {/* Quick Actions Panel */}
                            <div className="quick-actions">
                                <h3>🚀 Quick Actions</h3>
                                <div className="action-grid">
                                    <div className="action-card" onClick={() => handleQuickAction('flights')}>
                                        <span className="action-icon">✈️</span>
                                        <div className="action-title">Book Flights</div>
                                        <div className="action-desc">Search & compare flights</div>
                                    </div>
                                    <div className="action-card" onClick={() => handleQuickAction('hotels')}>
                                        <span className="action-icon">🏨</span>
                                        <div className="action-title">Find Hotels</div>
                                        <div className="action-desc">Best accommodations</div>
                                    </div>
                                    <div className="action-card" onClick={() => handleQuickAction('uber')}>
                                        <span className="action-icon">🚗</span>
                                        <div className="action-title">Book Uber</div>
                                        <div className="action-desc">Instant ride booking</div>
                                    </div>
                                    <div className="action-card" onClick={() => handleQuickAction('restaurants')}>
                                        <span className="action-icon">🍽️</span>
                                        <div className="action-title">Restaurants</div>
                                        <div className="action-desc">Local dining gems</div>
                                    </div>
                                    <div className="action-card" onClick={() => handleQuickAction('unique')}>
                                        <span className="action-icon">✨</span>
                                        <div className="action-title">Hidden Gems</div>
                                        <div className="action-desc">Unique destinations</div>
                                    </div>
                                    <div className="action-card" onClick={() => handleQuickAction('budget')}>
                                        <span className="action-icon">💰</span>
                                        <div className="action-title">Budget Planner</div>
                                        <div className="action-desc">AI-powered savings</div>
                                    </div>
                                </div>
                            </div>

                            {/* Enhanced Chat Interface */}
                            <div className="chat-section">
                                <div className="chat-header">
                                    <div className="chat-title">💬 AI Assistant</div>
                                    <div className="translation-buttons">
                                        <button className="btn-lang" onClick={() => handleTranslate('es')}>🇪🇸 ES</button>
                                        <button className="btn-lang" onClick={() => handleTranslate('fr')}>🇫🇷 FR</button>
                                        <button className="btn-lang" onClick={() => handleTranslate('ja')}>🇯🇵 JP</button>
                                    </div>
                                </div>

                                {currentLanguage !== 'en' && (
                                    <div style={{ 
                                        background: 'linear-gradient(135deg, #17a2b8, #138496)', 
                                        color: 'white', 
                                        padding: '12px 20px', 
                                        borderRadius: '15px', 
                                        marginBottom: '15px', 
                                        textAlign: 'center',
                                        border: '1px solid rgba(255, 255, 255, 0.2)'
                                    }}>
                                        🌐 Translation Mode: {currentLanguage.toUpperCase()}
                                    </div>
                                )}

                                <div className="chat-messages">
                                    {messages.map((message, index) => (
                                        <div 
                                            key={index} 
                                            className={`message ${message.type === 'user' ? 'user-message' : 'bot-message'}`}
                                        >
                                            {message.content}
                                        </div>
                                    ))}
                                    {isLoading && (
                                        <div className="message bot-message">
                                            <div className="loading"></div> Processing your request...
                                        </div>
                                    )}
                                    <div ref={messagesEndRef} />
                                </div>

                                {/* Enhanced Uber Results Display */}
                                {uberResults.length > 0 && (
                                    <div className="uber-section">
                                        <div className="uber-title">
                                            <span>🚗 Uber Options</span>
                                        </div>
                                        <div className="uber-options">
                                            {uberResults.map((option, index) => (
                                                <div key={index} className="uber-option">
                                                    <div style={{ fontWeight: 'bold' }}>{option.type}</div>
                                                    <div>${option.price}</div>
                                                    <div style={{ fontSize: '0.8rem' }}>{option.eta}</div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {/* Enhanced Price Comparison */}
                                {priceComparisons.length > 0 && (
                                    <div style={{ margin: '15px 0' }}>
                                        <div style={{ color: 'white', fontWeight: '600', marginBottom: '10px' }}>
                                            💰 Price Comparison
                                        </div>
                                        <div className="price-comparison">
                                            {priceComparisons.map((option, index) => (
                                                <div key={index} className={`price-option price-${option.type}`}>
                                                    <div style={{ fontWeight: 'bold', marginBottom: '5px' }}>
                                                        {option.name}
                                                    </div>
                                                    <div style={{ fontSize: '1.2rem', fontWeight: 'bold' }}>
                                                        ${option.price}
                                                    </div>
                                                    <div style={{ fontSize: '0.8rem', marginTop: '5px' }}>
                                                        {option.badge}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                <div className="input-section">
                                    <input
                                        type="text"
                                        className="chat-input"
                                        placeholder="Try: 'Book an Uber to airport' or 'Find unique places in Tokyo'"
                                        value={inputValue}
                                        onChange={(e) => setInputValue(e.target.value)}
                                        onKeyPress={handleKeyPress}
                                    />
                                    <button 
                                        className={`btn btn-voice ${isListening ? 'listening' : ''}`}
                                        onClick={handleVoiceInput}
                                        title="Voice Input"
                                    >
                                        🎤
                                    </button>
                                    <button 
                                        className="btn btn-primary"
                                        onClick={handleSendMessage}
                                    >
                                        Send
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Enhanced Sidebar */}
                        <div className="sidebar">
                            {/* Enhanced Stats Panel */}
                            <div className="stats-panel">
                                <div className="stats-title">🏆 Your Travel Stats</div>
                                <div className="stats-grid">
                                    <div className="stat-card">
                                        <div className="stat-value">{loyaltyPoints}</div>
                                        <div className="stat-label">Loyalty Points</div>
                                    </div>
                                    <div className="stat-card">
                                        <div className="stat-value">{itinerary.length}</div>
                                        <div className="stat-label">Active Bookings</div>
                                    </div>
                                    <div className="stat-card">
                                        <div className="stat-value">{travelLog.length}</div>
                                        <div className="stat-label">Places Visited</div>
                                    </div>
                                    <div className="stat-card">
                                        <div className="stat-value">${totalSavings}</div>
                                        <div className="stat-label">Total Saved</div>
                                    </div>
                                </div>
                            </div>

                            {/* Enhanced Features Panel */}
                            <div className="features-panel">
                                <div className="features-title">🌟 Smart Features</div>
                                
                                <div className="feature-item" onClick={() => showFeatureInfo('ar')}>
                                    <div className="feature-item-title">🥽 AR Hotel Preview</div>
                                    <div className="feature-item-desc">Virtual tours before booking</div>
                                </div>

                                <div className="feature-item" onClick={() => showFeatureInfo('ai')}>
                                    <div className="feature-item-title">🧠 AI Budget Optimizer</div>
                                    <div className="feature-item-desc">Smart cost predictions</div>
                                </div>

                                <div className="feature-item" onClick={generateShareLink}>
                                    <div className="feature-item-title">🔗 Share Itinerary</div>
                                    <div className="feature-item-desc">Collaborative trip planning</div>
                                </div>

                                <div className="feature-item" onClick={() => showFeatureInfo('predict')}>
                                    <div className="feature-item-title">📈 Price Predictions</div>
                                    <div className="feature-item-desc">Best booking timing</div>
                                </div>

                                <div className="feature-item">
                                    <div className="feature-item-title">🌐 Real-time Translation</div>
                                    <div className="feature-item-desc">15+ languages supported</div>
                                </div>

                                <div className="feature-item">
                                    <div className="feature-item-title">📱 Offline Access</div>
                                    <div className="feature-item-desc">Works without internet</div>
                                </div>

                                <div className="feature-item">
                                    <div className="feature-item-title">🎯 Local Recommendations</div>
                                    <div className="feature-item-desc">Verified by locals</div>
                                </div>

                                <div className="feature-item">
                                    <div className="feature-item-title">📊 Trip Analytics</div>
                                    <div className="feature-item-desc">Travel insights & patterns</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the enhanced application
        ReactDOM.render(<TravelAssistant />, document.getElementById('root'));
    </script>
</body>
</html>
